var t={11:(t,e,i)=>{i.d(e,{A:()=>a});var n=i(601),r=i.n(n),s=i(314),o=i.n(s)()(r());o.push([t.id,"section>div.code-exercise{top:0 !important;height:100% !important;display:grid !important;grid-template-columns:1fr 1fr !important;grid-template-rows:auto 1fr 1fr !important;gap:1rem !important}section>div.code-exercise h3{grid-column:span 2}section>div.code-exercise .monaco-editor-container{transform:scale(1) !important}section>div.code-exercise .monaco-editor-container:not(:has(+iframe)){grid-column:span 2}section>div.code-exercise .monaco-editor{text-align:left}section>div.code-exercise iframe{height:100%;width:100%;max-width:none;max-height:none;background-color:#fff;box-sizing:content-box}section>div.code-exercise .monaco-editor,section>div.code-exercise iframe{border:1px solid gray}section>div.code-exercise p{display:flex;align-items:start;text-align:start}section>div.code-exercise p ul.spoiler-list,section>div.code-exercise p ol.spoiler-list{list-style:none;flex-grow:1}section>div.code-exercise p ul.spoiler-list li,section>div.code-exercise p ol.spoiler-list li{background:#333;border-radius:.2em;color:rgba(0,0,0,0);user-select:none}section>div.code-exercise p ul.spoiler-list li:hover,section>div.code-exercise p ol.spoiler-list li:hover{background:rgba(0,0,0,0);color:inherit}section>div.code-exercise p ul.spoiler-list li:not(:last-child),section>div.code-exercise p ol.spoiler-list li:not(:last-child){margin-bottom:.2rem}section>div.code-exercise p:not(:has(+*[data-code-exercise-custom-content])){grid-column:span 2}section>div.code-exercise *:not(.monaco-editor):not(.monaco-editor *){font-size:initial}",""]);const a=o},56:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var s={},o=[],a=0;a<t.length;a++){var h=t[a],c=n.base?h[0]+n.base:h[0],l=s[c]||0,u="".concat(c," ").concat(l);s[c]=l+1;var d=i(u),m={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==d)e[d].references++,e[d].updater(m);else{var p=r(m,n);n.byIndex=a,e.splice(a,0,{identifier:u,updater:p,references:1})}o.push(u)}return o}function r(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,r){var s=n(t=t||[],r=r||{});return function(t){t=t||[];for(var o=0;o<s.length;o++){var a=i(s[o]);e[a].references--}for(var h=n(t,r),c=0;c<s.length;c++){var l=i(s[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}s=h}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,r,s){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(n)for(var a=0;a<this.length;a++){var h=this[a][0];null!=h&&(o[h]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);n&&o[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),i&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=i):l[2]=i),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,r&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var s=i.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={id:n,exports:{}};return t[n](s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.nc=void 0;var n={};i.d(n,{A:()=>k});var r=i(72),s=i.n(r),o=i(825),a=i.n(o),h=i(659),c=i.n(h),l=i(56),u=i.n(l),d=i(540),m=i.n(d),p=i(113),f=i.n(p),g=i(11),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=m(),s()(g.A,v),g.A&&g.A.locals&&g.A.locals;var x={334:t=>{function e(t,e=100,i={}){if("function"!=typeof t)throw new TypeError(`Expected the first parameter to be a function, got \`${typeof t}\`.`);if(e<0)throw new RangeError("`wait` must not be negative.");const{immediate:n}="boolean"==typeof i?{immediate:i}:i;let r,s,o,a,h;function c(){const e=r,i=s;return r=void 0,s=void 0,h=t.apply(e,i),h}function l(){const t=Date.now()-a;t<e&&t>=0?o=setTimeout(l,e-t):(o=void 0,n||(h=c()))}const u=function(...t){if(r&&this!==r&&Object.getPrototypeOf(this)===Object.getPrototypeOf(r))throw new Error("Debounced method called with different contexts of the same prototype.");r=this,s=t,a=Date.now();const i=n&&!o;return o||(o=setTimeout(l,e)),i&&(h=c()),h};return Object.defineProperty(u,"isPending",{get:()=>void 0!==o}),u.clear=()=>{o&&(clearTimeout(o),o=void 0)},u.flush=()=>{o&&u.trigger()},u.trigger=()=>{h=c(),u.clear()},u}t.exports.debounce=e,t.exports=e},267:t=>{function e(t,e,i){var n=Math.sqrt,r=Math.pow;this.x1=t,this.x2=e,this.weights=i||{},this.ksubL=this.weights.lightness||1,this.ksubC=this.weights.chroma||1,this.ksubH=this.weights.hue||1,this.deltaLPrime=e.L-t.L,this.LBar=(t.L+e.L)/2,this.C1=n(r(t.A,2)+r(t.B,2)),this.C2=n(r(e.A,2)+r(e.B,2)),this.CBar=(this.C1+this.C2)/2,this.aPrime1=t.A+t.A/2*(1-n(r(this.CBar,7)/(r(this.CBar,7)+r(25,7)))),this.aPrime2=e.A+e.A/2*(1-n(r(this.CBar,7)/(r(this.CBar,7)+r(25,7)))),this.CPrime1=n(r(this.aPrime1,2)+r(t.B,2)),this.CPrime2=n(r(this.aPrime2,2)+r(e.B,2)),this.CBarPrime=(this.CPrime1+this.CPrime2)/2,this.deltaCPrime=this.CPrime2-this.CPrime1,this.SsubL=1+.015*r(this.LBar-50,2)/n(20+r(this.LBar-50,2)),this.SsubC=1+.045*this.CBarPrime,this.hPrime1=0,this.hPrime2=0,this.deltahPrime=0,this.deltaHPrime=0,this.HBarPrime=0,this.T=0,this.SsubH=0,this.RsubT=0}e.prototype.getDeltaE=function(){var t=Math.sqrt,e=Math.sin,i=Math.pow;this.hPrime1=this.gethPrime1(),this.hPrime2=this.gethPrime2(),this.deltahPrime=this.getDeltahPrime(),this.deltaHPrime=2*t(this.CPrime1*this.CPrime2)*e(this.degreesToRadians(this.deltahPrime)/2),this.HBarPrime=this.getHBarPrime(),this.T=this.getT(),this.SsubH=1+.015*this.CBarPrime*this.T,this.RsubT=this.getRsubT();var n=this.deltaLPrime/(this.ksubL*this.SsubL),r=this.deltaCPrime/(this.ksubC*this.SsubC),s=this.deltaHPrime/(this.ksubH*this.SsubH);return t(i(n,2)+i(r,2)+i(s,2)+this.RsubT*r*s)},e.prototype.getRsubT=function(){var t=Math.sin,e=Math.sqrt,i=Math.pow,n=Math.exp;return-2*e(i(this.CBarPrime,7)/(i(this.CBarPrime,7)+i(25,7)))*t(this.degreesToRadians(60*n(-i((this.HBarPrime-275)/25,2))))},e.prototype.getT=function(){var t=Math.cos;return 1-.17*t(this.degreesToRadians(this.HBarPrime-30))+.24*t(this.degreesToRadians(2*this.HBarPrime))+.32*t(this.degreesToRadians(3*this.HBarPrime+6))-.2*t(this.degreesToRadians(4*this.HBarPrime-63))},e.prototype.getHBarPrime=function(){return(0,Math.abs)(this.hPrime1-this.hPrime2)>180?(this.hPrime1+this.hPrime2+360)/2:(this.hPrime1+this.hPrime2)/2},e.prototype.getDeltahPrime=function(){var t=Math.abs;return 0===this.C1||0===this.C2?0:t(this.hPrime1-this.hPrime2)<=180?this.hPrime2-this.hPrime1:this.hPrime2<=this.hPrime1?this.hPrime2-this.hPrime1+360:this.hPrime2-this.hPrime1-360},e.prototype.gethPrime1=function(){return this._gethPrimeFn(this.x1.B,this.aPrime1)},e.prototype.gethPrime2=function(){return this._gethPrimeFn(this.x2.B,this.aPrime2)},e.prototype._gethPrimeFn=function(t,e){var i;return 0===t&&0===e?0:(i=this.radiansToDegrees(Math.atan2(t,e)))>=0?i:i+360},e.prototype.radiansToDegrees=function(t){return t*(180/Math.PI)},e.prototype.degreesToRadians=function(t){return t*(Math.PI/180)},t.exports=e},30:t=>{function e(t,e){this.x1=t,this.x2=e}e.prototype.getDeltaE=function(){var t=this.x1,e=this.x2;return Math.sqrt(Math.pow(e.L-t.L,2)+Math.pow(e.A-t.A,2)+Math.pow(e.B-t.B,2))},t.exports=e},794:t=>{function e(t,e,i){this.x1=t,this.x2=e,this.weights=i||{},this.weights.lightness=this.weights.lightness||1,this.weights.chroma=this.weights.chroma||1,this.weights.hue=this.weights.hue||1,1===this.weights.lightness?(this.weights.K1=.045,this.weights.K2=.015):(this.weights.K1=.048,this.weights.K2=.014)}e.prototype.getDeltaE=function(){var t=this.x1,e=this.x2,i=Math.sqrt,n=Math.pow;return i(n(this.calculateL(t,e),2)+n(this.calculateA(t,e),2)+n(this.calculateB(t,e),2))},e.prototype.calculateL=function(t,e){return(t.L-e.L)/this.weights.lightness},e.prototype.calculateA=function(t,e){var i=Math.sqrt,n=Math.pow,r=i(n(t.A,2)+n(t.B,2)),s=r-i(n(e.A,2)+n(e.B,2)),o=1+this.weights.K1*r;return s/(this.weights.chroma*o)},e.prototype.calculateB=function(t,e){var i=Math.sqrt,n=Math.pow,r=i(n(t.A,2)+n(t.B,2))-i(n(e.A,2)+n(e.B,2)),s=t.A-e.A,o=t.B-e.B,a=i(n(s,2)+n(o,2)-n(r,2))||0,h=i(n(t.A,2)+n(t.B,2));return a/(1+this.weights.K2*h)},t.exports=e},54:(t,e,i)=>{var n=i(30),r=i(794),s=i(267);function o(){}o.prototype.getDeltaE76=function(t,e){return new n(t,e).getDeltaE()},o.prototype.getDeltaE94=function(t,e){return new r(t,e).getDeltaE()},o.prototype.getDeltaE00=function(t,e){return new s(t,e).getDeltaE()},t.exports=new o}},w={};function y(t){var e=w[t];if(void 0!==e)return e.exports;var i=w[t]={exports:{}};return x[t](i,i.exports,y),i.exports}y.d=(t,e)=>{for(var i in e)y.o(e,i)&&!y.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},y.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var P={};y.d(P,{BX:()=>T,Gj:()=>b,GX:()=>E,Jh:()=>M,FR:()=>B,PZ:()=>O,Ni:()=>F,dT:()=>H,TY:()=>R,OH:()=>_,nA:()=>C,XK:()=>S});class b{constructor(t,e){this.method=t,this.message=e}}class _{constructor(){this._stopOnFail=!0,this._negateNext=!1}get shouldStopOnFail(){return this._stopOnFail}get not(){return this._negateNext=!0,this}stopOnFail(t){return this._stopOnFail=t,this}}class C{get valid(){var t,e;return 0==(null!==(e=null===(t=this.errors)||void 0===t?void 0:t.length)&&void 0!==e?e:0)}constructor(t){this.errors=null!=t?t:[]}}class E extends _{constructor(){super(...arguments),this._rules=[]}get rules(){return this._rules}validate(t){const e=[];for(const i of this._rules)i.method(t)||e.push(i.message);return new C(e)}lambda(t,e){return this._rules.push(new b(t,e)),this}required(t){return this.lambda((t=>t.length>0),t||"Field is required.")}equals(t,e){return this.lambda((e=>e===t),e||`Field must equal '${t}'.`)}startsWith(t,e){return this.lambda((e=>e.startsWith(t)),e||`Field must start with '${t}'.`)}endsWith(t,e){return this.lambda((e=>e.endsWith(t)),e||`Field must end with '${t}'.`)}equalsRegex(t,e){return this.lambda((e=>t.test(e)),e||`Field must match the pattern '${t.toString()}'.`)}}class T{get addValidationRule(){return this._ruleset}constructor(t,e=!1){this._ruleset=new E,this.range=t,this.allowMultiline=e,this.id=crypto.randomUUID()}validate(t){return this._ruleset.validate(t)}}class M{constructor(){this.handlers=[]}on(t){this.handlers.push(t)}off(t){this.handlers=this.handlers.filter((e=>e!==t))}trigger(t){this.handlers.slice(0).forEach((e=>e(t)))}expose(){return this}}var I=y(334);class S{constructor(t,e){this.content=t,this.rangeValues=e}}class R{get _model(){const t=this._editorInstance.getModel();if(null==t)throw"missing moddel";return t}get content(){return this._model.getValue()}get rangeValues(){let t={};return this._rangeRestrictions.length>0&&(t=this._model.getValueInEditableRanges()),t}constructor(t,e,i){this._rangeRestrictions=[],this.restrictions=[],this._previousRestrictionLength=0,this.onChangeContext=new M,this._editorInstance=monaco.editor.create(t,{value:e,language:i}),this._constrainedInstance=constrainedEditor(monaco),this._constrainedInstance.initializeIn(this._editorInstance);const n=I((()=>{this.onChangeContext.trigger(new S(this.content,this.rangeValues))}),200);this._model.onDidChangeContent(n)}changeRanges(){this._rangeRestrictions.length!==this._previousRestrictionLength&&(this._previousRestrictionLength>1&&this._constrainedInstance.removeRestrictionsIn(this._model),this._constrainedInstance.addRestrictionsTo(this._model,this._rangeRestrictions),this._previousRestrictionLength=this._rangeRestrictions.length)}setRanges(t){this._rangeRestrictions=t,this.changeRanges()}clearRanges(){this._rangeRestrictions.length=0,this.changeRanges()}}class B{constructor(t,e){this.onValidate=new M,this._editableFields=[],this._monacoEditorInstance=new R(t,e,"html"),this._monacoEditorInstance.onChangeContext.on((()=>{this.validate()}))}get content(){return this._monacoEditorInstance.content}setEditableFields(t){this._editableFields=t,this.editableFieldsChanged()}clearEditableFields(){this._editableFields.length=0,this.editableFieldsChanged()}validate(){return t=this,i=function*(){const t=this._monacoEditorInstance.rangeValues,e=this._editableFields.map((e=>{const i=t[e.id];if(null==i)throw"Unexpected missing value in ranges!";return e.validate(i)})).concat(yield this.validateExtend()).reduce(((t,e)=>new C(t.errors.concat(e.errors))));return this.onValidate.trigger(e),e},new((e=void 0)||(e=Promise))((function(n,r){function s(t){try{a(i.next(t))}catch(t){r(t)}}function o(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){var i;t.done?n(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(s,o)}a((i=i.apply(t,[])).next())}));var t,e,i}editableFieldsChanged(){const t=[];this._editableFields.forEach((e=>{t.push({range:e.range,allowMultiline:e.allowMultiline,label:e.id})})),this._monacoEditorInstance.setRanges(t)}}function A(t){let e;if(t.startsWith("#")){let i=t.slice(1);if(3===i.length&&(i=i.split("").map((t=>t+t)).join("")),6!==i.length)throw new Error("Invalid hex color format");e=[parseInt(i.slice(0,2),16),parseInt(i.slice(2,4),16),parseInt(i.slice(4,6),16)]}else{if(!t.startsWith("rgb"))throw new Error("Unsupported color format");{const i=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(!i)throw new Error("Invalid rgb/rgba format");e=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]}}e=[L(e[0],0,255),L(e[1],0,255),L(e[2],0,255)];const[i,n,r]=function(t,e,i){return e/=255,i/=255,[100*(.4124564*(t=(t/=255)>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3575761*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.1804375*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126729*t+.7151522*e+.072175*i),100*(.0193339*t+.119192*e+.9503041*i)]}(e[0],e[1],e[2]);return function(t,e,i){e/=100,i/=108.883;const n=t=>t>.008856?Math.cbrt(t):7.787*t+16/116,r=n(t/=95.047),s=n(e);return{L:116*s-16,A:500*(r-s),B:200*(s-n(i))}}(i,n,r)}function L(t,e,i){return Math.max(e,Math.min(i,t))}class F{constructor(t,e){this.method=t,this.message=e}}var $=y(54),D=function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{h(n.next(t))}catch(t){s(t)}}function a(t){try{h(n.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((n=n.apply(t,e||[])).next())}))};class H extends _{constructor(){super(...arguments),this._rules=[]}get rules(){return this._rules}lambda(t,e){if(this._negateNext){this._negateNext=!1;const i=(e,i)=>D(this,void 0,void 0,(function*(){return!(yield t(e,i))}));this._rules.push(new F(i,e))}else this._rules.push(new F(t,e));return this}required(t){return this.lambda((t=>t.length>0),null!=t?t:this._negateNext?"String should be empty":"String field is required")}isValidHTML(t){return this.lambda((t=>D(this,void 0,void 0,(function*(){let e={messages:Array};try{const i=yield fetch("https://validator.w3.org/nu/?out=json&level=error",{method:"POST",headers:{"Content-Type":"text/html; charset=UTF-8"},body:t});e=yield i.json()}catch(t){console.error("Error:",t)}return console.log(e.messages),0==e.messages.length}))),null!=t?t:this._negateNext?"Valid HTML":"Invalid HTML")}stringEquals(t,e){return this.lambda((e=>e===t),null!=e?e:this._negateNext?`String field must not equal '${t}'.`:`String field must equal '${t}'.`)}contentIncludes(t,e){return this.lambda((e=>e.includes(t)),null!=e?e:this._negateNext?`String field must not include '${t}'.`:`String field must include '${t}'.`)}iframeContains(t,e){return this.lambda(((e,i)=>null!==i.querySelector(t)),null!=e?e:this._negateNext?`IFrame must not contain an element matching '${t}'.`:`IFrame must contain an element matching '${t}'.`)}elementHasAttributeColor(t,e,i,n=50,r){return this.lambda(((r,s)=>{const o=A(i),a=s.querySelector(t);if(null==a)return!1;const h=window.getComputedStyle(a).getPropertyValue(e);if(""==h)return!1;const c=A(h),l=(0,$.getDeltaE00)(o,c);return console.log(l),l<=n}),null!=r?r:this._negateNext?`Element '${t}' exists, and has property '${e}' and color '${i}'.`:`Element '${t}' is missig, has no property '${e}' or does not have color '${i}'.`)}elementIncludesText(t,e,i){return this.lambda(((i,n)=>{const r=n.querySelector(t);return null!=r&&r.innerText.toLowerCase().includes(e.toLowerCase())}),null!=i?i:this._negateNext?`Element '${t}' exists and text matches '${e}'.`:`Element '${t}' is missig or text does not match '${e}'.`)}elementTextMatchesRegex(t,e,i){return this.lambda(((i,n)=>{const r=n.querySelector(t);return null!=r&&e.test(r.innerText)}),null!=i?i:this._negateNext?`Element '${t}' exists and text matches '${e}'.`:`Element '${t}' is missig or text does not match '${e}'.`)}stringMatchesRegex(t,e){return this.lambda((e=>t.test(e)),null!=e?e:this._negateNext?`String matches the pattern '${t}'.`:`String does not match the pattern '${t}'.`)}}var q=function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{h(n.next(t))}catch(t){s(t)}}function a(t){try{h(n.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}h((n=n.apply(t,e||[])).next())}))};class O extends B{constructor(t,e,i){if(super(t,e),this._ruleSets=[],null==i){const t=document.createElement("iframe");t.setAttribute("style","display: none"),document.body.appendChild(t),this.iframe=t}else this.iframe=i;this._monacoEditorInstance.onChangeContext.on((t=>{this.renderIframe()})),this.renderIframe()}addValidationRule(){const t=new H;return this._ruleSets.push(t),t}validateExtend(){return q(this,void 0,void 0,(function*(){this.renderIframe();const t=this.iframe.contentDocument;if(null==t)throw"contendDocument was null!";const e=[];for(const i of this._ruleSets)for(const n of i.rules)if(!(yield n.method(this.content,t))&&(e.push(n.message),i.shouldStopOnFail))break;return new C(e)}))}validateRule(t){return q(this,void 0,void 0,(function*(){this.renderIframe();const e=this.iframe.contentDocument;if(null==e)throw"contendDocument was null!";return yield t.method(this.content,e)}))}renderIframe(){if(null==this.iframe.srcdoc)throw"iframe was null!";const t=this.iframe.contentDocument;t.open(),t.write(this.content),t.close()}}var N=P.PZ,V=["html"],j=function(){function t(){this.id="RevealCodeExercisePlugin",this.dataPrefix="data-code-exercise-",this.dataSetPrefix="codeExercise",this.defaultExerciseType="html",this.defaultShowPreview="true",this._excercises=new Map}return t.prototype.init=function(t){for(var e,i,n,r=this,s=t.getSlides().filter((function(t){return null!=t.dataset[r.dataSetPrefix]})),o=function(t){var r,s=t.querySelector("[".concat(a.dataPrefix,"Content]")),o=null!==(e=null==s?void 0:s.textContent)&&void 0!==e?e:"",h=null!==(i=t.dataset["".concat(a.dataSetPrefix,"Type")])&&void 0!==i?i:a.defaultExerciseType;if(r=h,!V.includes(r))throw"Unsupported exercise type: ".concat(h);var c=t.dataset["".concat(a.dataSetPrefix,"Id")],l=t.dataset["".concat(a.dataSetPrefix,"Title")],u=null!==(n=t.dataset["".concat(a.dataSetPrefix,"Preview")])&&void 0!==n?n:a.defaultShowPreview,d=/^true$/i.test(u),m=t.querySelector("[".concat(a.dataPrefix,"custom-content]")),p=document.createElement("div");if(p.classList.add("code-exercise"),t.replaceChildren(p),null!=l){var f=document.createElement("h3");f.textContent=l,p.append(f)}var g,v=document.createElement("div");if(v.classList.add("monaco-editor-container"),p.append(v),"html"!==h)throw"Unreachable";if(d){var x=document.createElement("iframe");p.append(x),g=new N(v,o,x)}else g=new N(v,o);var w=document.createElement("p");g.onValidate.on((function(t){if(t.valid)w.replaceChildren("Gut gemacht! Alles richtig!");else{w.replaceChildren("Hier ein paar Tipps:");var e=document.createElement("ul");e.classList.add("spoiler-list"),t.errors.forEach((function(t){var i=document.createElement("li");i.textContent=t,e.appendChild(i)})),w.appendChild(e)}})),null!=c&&a._excercises.set(c,g),p.append(w),null!=m&&p.append(m),setTimeout((function(){return g._monacoEditorInstance._editorInstance.layout()}),100)},a=this,h=0,c=s;h<c.length;h++)o(c[h])},t.prototype.destroy=function(){throw new Error("Method not implemented.")},t.prototype.onSlideChanged=function(t){console.log(t)},t.prototype.getExercise=function(t){return this._excercises.get(t)},t}();const k=function(){return new j};var U=n.A;export{U as default};
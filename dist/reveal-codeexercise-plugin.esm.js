var e={11:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(601),r=i.n(n),s=i(314),o=i.n(s)()(r());o.push([e.id,"section.code-exercise{top:0 !important;height:95% !important;margin-bottom:2rem}section.code-exercise>div.code-exercise{height:100% !important;display:grid !important;grid-template-columns:1fr 1fr !important;grid-template-rows:auto 1fr 1fr !important;gap:1rem !important}section.code-exercise>div.code-exercise>h3{font-size:initial;grid-column:span 2}section.code-exercise>div.code-exercise .monaco-editor-container{transform:scale(1) !important}section.code-exercise>div.code-exercise .monaco-editor-container:not(:has(+iframe)){grid-column:span 2}section.code-exercise>div.code-exercise .monaco-editor{text-align:left}section.code-exercise>div.code-exercise>iframe{height:100%;width:100%;transform:scale(1.0000001);max-width:none;max-height:none;background-color:#fff;box-sizing:content-box}section.code-exercise>div.code-exercise .monaco-editor,section.code-exercise>div.code-exercise iframe{border:1px solid gray}section.code-exercise>div.code-exercise>div.spoiler-element{height:100%;display:grid;grid-template-rows:auto 1fr;grid-template-columns:1fr;justify-content:start;align-content:start;overflow:hidden}section.code-exercise>div.code-exercise>div.spoiler-element:not(:has(+*[data-code-exercise-custom-content])){grid-column:span 2}section.code-exercise>div.code-exercise>div.spoiler-element *{font-size:initial}section.code-exercise>div.code-exercise>div.spoiler-element>p{text-align:left;overflow-y:auto;overflow-x:hidden}section.code-exercise>div.code-exercise>div.spoiler-element>p ul,section.code-exercise>div.code-exercise>div.spoiler-element>p ol{list-style:none;flex-grow:1;margin-left:0;padding-left:0}section.code-exercise>div.code-exercise>div.spoiler-element>p ul li:not(:last-child),section.code-exercise>div.code-exercise>div.spoiler-element>p ol li:not(:last-child){margin-bottom:.2rem}section.code-exercise>div.code-exercise>div.spoiler-element>p ul li p,section.code-exercise>div.code-exercise>div.spoiler-element>p ol li p{margin:.25rem 0 .5rem 1rem}section.code-exercise .sr-only{height:1px !important;width:1px !important;border:0 !important;margin:-1px !important;overflow:hidden !important;padding:0 !important;white-space:nowrap !important}",""]);const a=o},56:(e,t,i)=>{e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var s={},o=[],a=0;a<e.length;a++){var c=e[a],h=n.base?c[0]+n.base:c[0],l=s[h]||0,d="".concat(h," ").concat(l);s[h]=l+1;var u=i(d),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(m);else{var p=r(m,n);n.byIndex=a,t.splice(a,0,{identifier:d,updater:p,references:1})}o.push(d)}return o}function r(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,r){var s=n(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=i(s[o]);t[a].references--}for(var c=n(e,r),h=0;h<s.length;h++){var l=i(s[h]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}s=c}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var h=0;h<e.length;h++){var l=[].concat(e[h]);n&&o[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),i&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=i):l[2]=i),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),t.push(l))}},t}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,r&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var s=i.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={id:n,exports:{}};return e[n](s,s.exports,i),s.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nc=void 0;var n={};i.d(n,{A:()=>U});var r=i(72),s=i.n(r),o=i(825),a=i.n(o),c=i(659),h=i.n(c),l=i(56),d=i.n(l),u=i(540),m=i.n(u),p=i(113),f=i.n(p),g=i(11),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=h().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=m(),s()(g.A,v),g.A&&g.A.locals&&g.A.locals;var x={334:e=>{function t(e,t=100,i={}){if("function"!=typeof e)throw new TypeError(`Expected the first parameter to be a function, got \`${typeof e}\`.`);if(t<0)throw new RangeError("`wait` must not be negative.");const{immediate:n}="boolean"==typeof i?{immediate:i}:i;let r,s,o,a,c;function h(){const t=r,i=s;return r=void 0,s=void 0,c=e.apply(t,i),c}function l(){const e=Date.now()-a;e<t&&e>=0?o=setTimeout(l,t-e):(o=void 0,n||(c=h()))}const d=function(...e){if(r&&this!==r&&Object.getPrototypeOf(this)===Object.getPrototypeOf(r))throw new Error("Debounced method called with different contexts of the same prototype.");r=this,s=e,a=Date.now();const i=n&&!o;return o||(o=setTimeout(l,t)),i&&(c=h()),c};return Object.defineProperty(d,"isPending",{get:()=>void 0!==o}),d.clear=()=>{o&&(clearTimeout(o),o=void 0)},d.flush=()=>{o&&d.trigger()},d.trigger=()=>{c=h(),d.clear()},d}e.exports.debounce=t,e.exports=t},267:e=>{function t(e,t,i){var n=Math.sqrt,r=Math.pow;this.x1=e,this.x2=t,this.weights=i||{},this.ksubL=this.weights.lightness||1,this.ksubC=this.weights.chroma||1,this.ksubH=this.weights.hue||1,this.deltaLPrime=t.L-e.L,this.LBar=(e.L+t.L)/2,this.C1=n(r(e.A,2)+r(e.B,2)),this.C2=n(r(t.A,2)+r(t.B,2)),this.CBar=(this.C1+this.C2)/2,this.aPrime1=e.A+e.A/2*(1-n(r(this.CBar,7)/(r(this.CBar,7)+r(25,7)))),this.aPrime2=t.A+t.A/2*(1-n(r(this.CBar,7)/(r(this.CBar,7)+r(25,7)))),this.CPrime1=n(r(this.aPrime1,2)+r(e.B,2)),this.CPrime2=n(r(this.aPrime2,2)+r(t.B,2)),this.CBarPrime=(this.CPrime1+this.CPrime2)/2,this.deltaCPrime=this.CPrime2-this.CPrime1,this.SsubL=1+.015*r(this.LBar-50,2)/n(20+r(this.LBar-50,2)),this.SsubC=1+.045*this.CBarPrime,this.hPrime1=0,this.hPrime2=0,this.deltahPrime=0,this.deltaHPrime=0,this.HBarPrime=0,this.T=0,this.SsubH=0,this.RsubT=0}t.prototype.getDeltaE=function(){var e=Math.sqrt,t=Math.sin,i=Math.pow;this.hPrime1=this.gethPrime1(),this.hPrime2=this.gethPrime2(),this.deltahPrime=this.getDeltahPrime(),this.deltaHPrime=2*e(this.CPrime1*this.CPrime2)*t(this.degreesToRadians(this.deltahPrime)/2),this.HBarPrime=this.getHBarPrime(),this.T=this.getT(),this.SsubH=1+.015*this.CBarPrime*this.T,this.RsubT=this.getRsubT();var n=this.deltaLPrime/(this.ksubL*this.SsubL),r=this.deltaCPrime/(this.ksubC*this.SsubC),s=this.deltaHPrime/(this.ksubH*this.SsubH);return e(i(n,2)+i(r,2)+i(s,2)+this.RsubT*r*s)},t.prototype.getRsubT=function(){var e=Math.sin,t=Math.sqrt,i=Math.pow,n=Math.exp;return-2*t(i(this.CBarPrime,7)/(i(this.CBarPrime,7)+i(25,7)))*e(this.degreesToRadians(60*n(-i((this.HBarPrime-275)/25,2))))},t.prototype.getT=function(){var e=Math.cos;return 1-.17*e(this.degreesToRadians(this.HBarPrime-30))+.24*e(this.degreesToRadians(2*this.HBarPrime))+.32*e(this.degreesToRadians(3*this.HBarPrime+6))-.2*e(this.degreesToRadians(4*this.HBarPrime-63))},t.prototype.getHBarPrime=function(){return(0,Math.abs)(this.hPrime1-this.hPrime2)>180?(this.hPrime1+this.hPrime2+360)/2:(this.hPrime1+this.hPrime2)/2},t.prototype.getDeltahPrime=function(){var e=Math.abs;return 0===this.C1||0===this.C2?0:e(this.hPrime1-this.hPrime2)<=180?this.hPrime2-this.hPrime1:this.hPrime2<=this.hPrime1?this.hPrime2-this.hPrime1+360:this.hPrime2-this.hPrime1-360},t.prototype.gethPrime1=function(){return this._gethPrimeFn(this.x1.B,this.aPrime1)},t.prototype.gethPrime2=function(){return this._gethPrimeFn(this.x2.B,this.aPrime2)},t.prototype._gethPrimeFn=function(e,t){var i;return 0===e&&0===t?0:(i=this.radiansToDegrees(Math.atan2(e,t)))>=0?i:i+360},t.prototype.radiansToDegrees=function(e){return e*(180/Math.PI)},t.prototype.degreesToRadians=function(e){return e*(Math.PI/180)},e.exports=t},30:e=>{function t(e,t){this.x1=e,this.x2=t}t.prototype.getDeltaE=function(){var e=this.x1,t=this.x2;return Math.sqrt(Math.pow(t.L-e.L,2)+Math.pow(t.A-e.A,2)+Math.pow(t.B-e.B,2))},e.exports=t},794:e=>{function t(e,t,i){this.x1=e,this.x2=t,this.weights=i||{},this.weights.lightness=this.weights.lightness||1,this.weights.chroma=this.weights.chroma||1,this.weights.hue=this.weights.hue||1,1===this.weights.lightness?(this.weights.K1=.045,this.weights.K2=.015):(this.weights.K1=.048,this.weights.K2=.014)}t.prototype.getDeltaE=function(){var e=this.x1,t=this.x2,i=Math.sqrt,n=Math.pow;return i(n(this.calculateL(e,t),2)+n(this.calculateA(e,t),2)+n(this.calculateB(e,t),2))},t.prototype.calculateL=function(e,t){return(e.L-t.L)/this.weights.lightness},t.prototype.calculateA=function(e,t){var i=Math.sqrt,n=Math.pow,r=i(n(e.A,2)+n(e.B,2)),s=r-i(n(t.A,2)+n(t.B,2)),o=1+this.weights.K1*r;return s/(this.weights.chroma*o)},t.prototype.calculateB=function(e,t){var i=Math.sqrt,n=Math.pow,r=i(n(e.A,2)+n(e.B,2))-i(n(t.A,2)+n(t.B,2)),s=e.A-t.A,o=e.B-t.B,a=i(n(s,2)+n(o,2)-n(r,2))||0,c=i(n(e.A,2)+n(e.B,2));return a/(1+this.weights.K2*c)},e.exports=t},54:(e,t,i)=>{var n=i(30),r=i(794),s=i(267);function o(){}o.prototype.getDeltaE76=function(e,t){return new n(e,t).getDeltaE()},o.prototype.getDeltaE94=function(e,t){return new r(e,t).getDeltaE()},o.prototype.getDeltaE00=function(e,t){return new s(e,t).getDeltaE()},e.exports=new o}},w={};function y(e){var t=w[e];if(void 0!==t)return t.exports;var i=w[e]={exports:{}};return x[e](i,i.exports,y),i.exports}y.d=(e,t)=>{for(var i in t)y.o(t,i)&&!y.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},y.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var b={};y.d(b,{BX:()=>T,Gj:()=>P,GX:()=>E,Jh:()=>S,FR:()=>R,PZ:()=>N,Ni:()=>L,dT:()=>q,TY:()=>B,OH:()=>_,nA:()=>C,XK:()=>I});class P{constructor(e,t){this.method=e,this.message=t}}class _{constructor(){this._stopOnFail=!0,this._negateNext=!1}get shouldStopOnFail(){return this._stopOnFail}get not(){return this._negateNext=!0,this}stopOnFail(e){return this._stopOnFail=e,this}}class C{get valid(){var e,t;return 0==(null!==(t=null===(e=this.errors)||void 0===e?void 0:e.length)&&void 0!==t?t:0)}constructor(e){this.errors=null!=e?e:[]}}class E extends _{constructor(){super(...arguments),this._rules=[]}get rules(){return this._rules}validate(e){const t=[];for(const i of this._rules)i.method(e)||t.push(i.message);return new C(t)}lambda(e,t){if(this._negateNext){this._negateNext=!1;const i=t=>!e(t);this._rules.push(new P(i,t))}else this._rules.push(new P(e,t));return this}required(e){return this.lambda((e=>e.length>0),null!=e?e:this._negateNext?"Field should be empty":"Field is required")}equals(e,t){return this.lambda((t=>t===e),null!=t?t:this._negateNext?`Field must not equal '${e}'.`:`Field must equal '${e}'.`)}startsWith(e,t){return this.lambda((t=>t.startsWith(e)),null!=t?t:this._negateNext?`Field must not start with '${e}'.`:`Field must start with '${e}'.`)}endsWith(e,t){return this.lambda((t=>t.endsWith(e)),null!=t?t:this._negateNext?`Field must not end with '${e}'.`:`Field must end with '${e}'.`)}equalsRegex(e,t){return this.lambda((t=>e.test(t)),null!=t?t:this._negateNext?`Field must not match the pattern '${e.toString()}'.`:`Field must match the pattern '${e.toString()}'.`)}}class T{addValidationRule(){const e=new E;return this._ruleSets.push(e),e}constructor(e,t=!1){this._ruleSets=[],this.range=e,this.allowMultiline=t,this.id=crypto.randomUUID()}validate(e){const t=[];for(const i of this._ruleSets)for(const n of i.rules)if(!n.method(e)&&(t.push(n.message),i.shouldStopOnFail))break;return new C(t)}}class S{constructor(){this.handlers=[]}on(e){this.handlers.push(e)}off(e){this.handlers=this.handlers.filter((t=>t!==e))}trigger(e){this.handlers.slice(0).forEach((t=>t(e)))}expose(){return this}}var M=y(334);class I{constructor(e,t){this.content=e,this.rangeValues=t}}class B{get _model(){const e=this._editorInstance.getModel();if(null==e)throw"missing moddel";return e}get content(){return this._model.getValue()}get rangeValues(){let e={};return this._rangeRestrictions.length>0&&(e=this._model.getValueInEditableRanges()),e}constructor(e,t,i){this._rangeRestrictions=[],this.restrictions=[],this._previousRestrictionLength=0,this.onChangeContext=new S,this._editorInstance=monaco.editor.create(e,{value:t,language:i}),this._constrainedInstance=constrainedEditor(monaco),this._constrainedInstance.initializeIn(this._editorInstance);const n=M((()=>{this.onChangeContext.trigger(new I(this.content,this.rangeValues))}),200);this._model.onDidChangeContent(n)}changeRanges(){this._rangeRestrictions.length!==this._previousRestrictionLength&&(this._previousRestrictionLength>1&&this._constrainedInstance.removeRestrictionsIn(this._model),this._constrainedInstance.addRestrictionsTo(this._model,this._rangeRestrictions),this._previousRestrictionLength=this._rangeRestrictions.length)}setRanges(e){this._rangeRestrictions=e,this.changeRanges()}clearRanges(){this._rangeRestrictions.length=0,this.changeRanges()}}class R{constructor(e,t){this.onValidate=new S,this._editableFields=[],this._monacoEditorInstance=new B(e,t,"html"),this._monacoEditorInstance.onChangeContext.on((()=>{this.validate()}))}get content(){return this._monacoEditorInstance.content}setEditableFields(e){this._editableFields=e,this.editableFieldsChanged()}clearEditableFields(){this._editableFields.length=0,this.editableFieldsChanged()}validate(){return e=this,i=function*(){const e=this._monacoEditorInstance.rangeValues,t=this._editableFields.map((t=>{const i=e[t.id];if(null==i)throw"Unexpected missing value in ranges!";return t.validate(i)})).concat(yield this.validateExtend()).reduce(((e,t)=>new C(e.errors.concat(t.errors))));return this.onValidate.trigger(t),t},new((t=void 0)||(t=Promise))((function(n,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function o(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var i;e.done?n(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(s,o)}a((i=i.apply(e,[])).next())}));var e,t,i}editableFieldsChanged(){const e=[];this._editableFields.forEach((t=>{e.push({range:t.range,allowMultiline:t.allowMultiline,label:t.id})})),this._monacoEditorInstance.setRanges(e)}}function A(e){let t;if(e.startsWith("#")){let i=e.slice(1);if(3===i.length&&(i=i.split("").map((e=>e+e)).join("")),6!==i.length)throw new Error("Invalid hex color format");t=[parseInt(i.slice(0,2),16),parseInt(i.slice(2,4),16),parseInt(i.slice(4,6),16)]}else{if(!e.startsWith("rgb"))throw new Error("Unsupported color format");{const i=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(!i)throw new Error("Invalid rgb/rgba format");t=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]}}t=[F(t[0],0,255),F(t[1],0,255),F(t[2],0,255)];const[i,n,r]=function(e,t,i){return t/=255,i/=255,[100*(.4124564*(e=(e/=255)>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3575761*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.1804375*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126729*e+.7151522*t+.072175*i),100*(.0193339*e+.119192*t+.9503041*i)]}(t[0],t[1],t[2]);return function(e,t,i){t/=100,i/=108.883;const n=e=>e>.008856?Math.cbrt(e):7.787*e+16/116,r=n(e/=95.047),s=n(t);return{L:116*s-16,A:500*(r-s),B:200*(s-n(i))}}(i,n,r)}function F(e,t,i){return Math.max(t,Math.min(i,e))}class L{constructor(e,t){this.method=e,this.message=t}}var $=y(54),H=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class q extends _{constructor(){super(...arguments),this._rules=[]}get rules(){return this._rules}lambda(e,t){if(this._negateNext){this._negateNext=!1;const i=(t,i)=>H(this,void 0,void 0,(function*(){return!(yield e(t,i))}));this._rules.push(new L(i,t))}else this._rules.push(new L(e,t));return this}required(e){return this.lambda((e=>e.length>0),null!=e?e:this._negateNext?"String should be empty":"String field is required")}isValidHTML(e){return this.lambda((e=>H(this,void 0,void 0,(function*(){let t={messages:Array};try{const i=yield fetch("https://validator.w3.org/nu/?out=json&level=error",{method:"POST",headers:{"Content-Type":"text/html; charset=UTF-8"},body:e});t=yield i.json()}catch(e){console.error("Error:",e)}return console.log(t.messages),0==t.messages.length}))),null!=e?e:this._negateNext?"Valid HTML":"Invalid HTML")}stringEquals(e,t){return this.lambda((t=>t===e),null!=t?t:this._negateNext?`String field must not equal '${e}'.`:`String field must equal '${e}'.`)}contentIncludes(e,t){return this.lambda((t=>t.includes(e)),null!=t?t:this._negateNext?`String field must not include '${e}'.`:`String field must include '${e}'.`)}iframeContains(e,t){return this.lambda(((t,i)=>null!==i.querySelector(e)),null!=t?t:this._negateNext?`IFrame must not contain an element matching '${e}'.`:`IFrame must contain an element matching '${e}'.`)}elementHasAttributeColor(e,t,i,n=50,r){return this.lambda(((r,s)=>{const o=A(i),a=s.querySelector(e);if(null==a)return!1;const c=window.getComputedStyle(a).getPropertyValue(t);if(""==c)return!1;const h=A(c),l=(0,$.getDeltaE00)(o,h);return console.log(l),l<=n}),null!=r?r:this._negateNext?`Element '${e}' exists, and has property '${t}' and color '${i}'.`:`Element '${e}' is missig, has no property '${t}' or does not have color '${i}'.`)}elementIncludesText(e,t,i){return this.lambda(((i,n)=>{const r=n.querySelector(e);return null!=r&&r.innerText.toLowerCase().includes(t.toLowerCase())}),null!=i?i:this._negateNext?`Element '${e}' exists and text matches '${t}'.`:`Element '${e}' is missig or text does not match '${t}'.`)}elementTextMatchesRegex(e,t,i){return this.lambda(((i,n)=>{const r=n.querySelector(e);return null!=r&&t.test(r.innerText)}),null!=i?i:this._negateNext?`Element '${e}' exists and text matches '${t}'.`:`Element '${e}' is missig or text does not match '${t}'.`)}stringMatchesRegex(e,t){return this.lambda((t=>e.test(t)),null!=t?t:this._negateNext?`String matches the pattern '${e}'.`:`String does not match the pattern '${e}'.`)}}var D=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class N extends R{constructor(e,t,i){if(super(e,t),this._ruleSets=[],null==i){const e=document.createElement("iframe");e.setAttribute("style","display: none"),document.body.appendChild(e),this.iframe=e}else this.iframe=i;this._monacoEditorInstance.onChangeContext.on((e=>{this.renderIframe()})),this.renderIframe()}addValidationRule(){const e=new q;return this._ruleSets.push(e),e}validateExtend(){return D(this,void 0,void 0,(function*(){this.renderIframe();const e=this.iframe.contentDocument;if(null==e)throw"contendDocument was null!";const t=[];for(const i of this._ruleSets)for(const n of i.rules)if(!(yield n.method(this.content,e))&&(t.push(n.message),i.shouldStopOnFail))break;return new C(t)}))}validateRule(e){return D(this,void 0,void 0,(function*(){this.renderIframe();const t=this.iframe.contentDocument;if(null==t)throw"contendDocument was null!";return yield e.method(this.content,t)}))}renderIframe(){if(null==this.iframe.srcdoc)throw"iframe was null!";const e=this.iframe.contentDocument;e.open(),e.write(this.content),e.close()}}var O=b.BX,j=b.PZ,V=["html"];var k=function(){function e(){this.id="RevealCodeExercisePlugin",this.dataPrefix="data-code-exercise-",this.dataSetPrefix="codeExercise",this.defaultExerciseType="html",this.defaultShowPreview="true",this._excercises=new Map}return e.prototype.init=function(e){for(var t,i,n,r=this,s=e.getSlides().filter((function(e){return null!=e.dataset[r.dataSetPrefix]})),o=function(e){var r,s=e.querySelector("[".concat(a.dataPrefix,"Content]")),o=(null!==(t=null==s?void 0:s.textContent)&&void 0!==t?t:"").replace(/^\n/,""),c=null!==(i=e.dataset["".concat(a.dataSetPrefix,"Type")])&&void 0!==i?i:a.defaultExerciseType;if(r=c,!V.includes(r))throw"Unsupported exercise type: ".concat(c);var h=e.dataset["".concat(a.dataSetPrefix,"Id")],l=e.dataset["".concat(a.dataSetPrefix,"Title")],d=null!==(n=e.dataset["".concat(a.dataSetPrefix,"Preview")])&&void 0!==n?n:a.defaultShowPreview,u=/^true$/i.test(d),m=e.querySelector("[".concat(a.dataPrefix,"custom-content]")),p=document.createElement("div");if(p.classList.add("code-exercise"),e.replaceChildren(p),null!=l){var f=document.createElement("h3");f.textContent=l,p.append(f)}var g,v=document.createElement("div");if(v.classList.add("monaco-editor-container"),p.append(v),"html"!==c)throw"Unreachable";if(u){var x=document.createElement("iframe");p.append(x),g=new j(v,o,x)}else g=new j(v,o);var w=function(e){var t=document.createElement("div");t.classList.add("spoiler-element");var i=document.createElement("h4");i.innerText="Tipps zur Bearbeitung:";var n=document.createElement("p");n.innerText="Beginnen Sie mit der Aufgabe!";var r=document.createElement("span");return r.classList.add("sr-only"),r.setAttribute("aria-live","polite"),r.innerText="Es gibt noch keine Hinweise.",t.append(i,n,r),e.onValidate.on((function(e){if(r.innerText="Es gibt ".concat(e.errors.length," Hinweise."),e.valid)n.replaceChildren("Gut gemacht! Alles richtig!");else{var t=document.createElement("ul");e.errors.forEach((function(e){var i=function(e){var t=document.createElement("li"),i=document.createElement("details"),n=document.createElement("summary");n.textContent="Hinweis umschalten";var r=document.createElement("p");return r.textContent=e,i.appendChild(n),i.appendChild(r),t.appendChild(i),t}(e);t.appendChild(i)})),n.replaceChildren(t)}})),t}(g);p.append(w),null!=h&&a._excercises.set(h,g),null!=m&&p.append(m),setTimeout((function(){return g._monacoEditorInstance._editorInstance.layout()}),100)},a=this,c=0,h=s;c<h.length;c++)o(h[c])},e.prototype.destroy=function(){throw new Error("Method not implemented.")},e.prototype.getExercise=function(e){return this._excercises.get(e)},e.prototype.createEditableField=function(e,t){return new O(e,t)},e}();const U=function(){return new k};var K=n.A;export{K as default};